<figure *ngFor="let post of posts | async ; let i = index" class="grid-figure">
    <div class="grid-photo-wrap">
        <img [src]="post.display_src" [alt]="post.caption" class="grid-photo" (click)="onSelect(post.code)" />
        <figcaption>
            <p>{{post.caption}}</p>
            <div class="control-buttons">
                <button (click)="postService.updatePost(post, i)" class="like">&hearts; {{post.likes}}</button>
                <button>
                        <span class="comment-count">    
                            <span class="speech-bubble"></span><span *ngFor="let comment of comments | async"><span *ngIf="comment.code === post.code">  &nbsp; {{countComments(comment)}} </span></span>
                        </span>
                    </button>
            </div>
        </figcaption>
    </div>
</figure>